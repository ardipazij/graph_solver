# Архитектура системы визуализации алгоритмов на графах

## Общее описание

Система представляет собой desktop-приложение, реализованное с использованием фреймворка Qt (PySide6). Архитектура построена по упрощенной модели MVC с элементами событийно-ориентированного программирования.

## Структура проекта

```
src/
├── widgets/                  # Компоненты пользовательского интерфейса
│   ├── main_window.py       # Главное окно приложения
│   └── graph_widget.py      # Виджет визуализации графа
├── algorithms/              # Реализации алгоритмов
│   └── graph_algorithms.py  # Базовый класс и конкретные алгоритмы
├── utils/                  # Вспомогательные функции
│   └── graph_utils.py      # Утилиты для работы с графами
└── main.py                # Точка входа в приложение
```

## Компоненты системы

### Model (Модель)
Представлен классами в `algorithms/graph_algorithms.py`:
- Базовый класс `GraphAlgorithm`
- Реализации конкретных алгоритмов:
  * Поиск в ширину (BFS)
  * Поиск в глубину (DFS)
  * Алгоритм Дейкстры
  * Алгоритм Беллмана-Форда
  * Поиск максимального пути
  * Алгоритм Краскала
  * Алгоритм Прима

### View (Представление)
Реализовано в `widgets/`:
- `GraphWidget`: визуализация графа и интерактивное взаимодействие
- `MainWindow`: управление общим интерфейсом и координация компонентов
- Дополнительные элементы интерфейса:
  * Панель псевдокода
  * Панель состояния переменных
  * Область логирования
  * Элементы управления алгоритмами

### Событийная модель

#### Основные типы событий:
1. **Пользовательский ввод:**
   - Добавление/удаление вершин и рёбер
   - Перемещение элементов графа
   - Изменение масштаба
   - Запуск алгоритмов

2. **Алгоритмические события:**
   - Шаги выполнения алгоритма
   - Обновление состояния переменных
   - Подсветка текущего шага в псевдокоде
   - Логирование действий

3. **Системные события:**
   - Загрузка/сохранение графа
   - Изменение настроек
   - Обновление интерфейса

#### Механизмы обработки событий:
- Сигналы и слоты Qt
- Обработчики событий мыши
- Таймеры для анимации
- Система логирования

## Основные функциональные возможности

### Работа с графами
- Создание и редактирование графов
- Поддержка различных форматов ввода:
  * Матрица смежности
  * Матрица инцидентности
  * Список рёбер
- Сохранение и загрузка графов
- Генерация случайных графов

### Визуализация
- Интерактивное редактирование
- Алгоритмы размещения:
  * Круговое
  * Силовое
  * Спектральное
  * По оболочкам
  * Kamada-Kawai
- Масштабирование и перемещение
- Настройка внешнего вида

### Алгоритмическая часть
- Пошаговое выполнение
- Визуализация процесса
- Отображение состояния переменных
- Подсветка текущего шага
- Логирование действий

## Взаимодействие компонентов

```
+------------------+     наблюдает    +-------------------------+
|     Model        |<-----------------|          View           |
| - GraphAlgorithm |                 |    +----------------+    |
| - NetworkX Graph |    обновляет    |    |   GraphWidget  |    |
| - Algorithms     |----------------->|    +----------------+    |
+------------------+                 |                         |
         ^                          |    +----------------+    |
         |                          |    | Другие виджеты |    |
         |                          |    +----------------+    |
         |                          |                         |
         |                          |    +----------------+    |
         +--------------------------|    |   MainWindow   |    |
                управляет           |    | (+ Controller) |    |
                                   |    +----------------+    |
                                   +-------------------------+
```

## Особенности реализации

### Модульность
- Разделение на логические компоненты
- Независимость модулей
- Возможность расширения

### Интерактивность
- Мгновенная реакция на действия пользователя
- Плавные анимации
- Информативная обратная связь

### Расширяемость
- Возможность добавления новых алгоритмов
- Поддержка различных форматов данных
- Настраиваемые параметры визуализации

## Используемые технологии

- **Python**: основной язык разработки
- **PySide6**: создание графического интерфейса
- **NetworkX**: работа с графовыми структурами
- **NumPy**: математические вычисления и работа с матрицами

## Преимущества архитектуры

1. **Модульность**
   - Четкое разделение ответственности
   - Простота поддержки и модификации
   - Возможность независимой разработки компонентов

2. **Гибкость**
   - Легкое добавление новых функций
   - Простая модификация существующего функционала
   - Возможность расширения системы

3. **Производительность**
   - Эффективная обработка графов
   - Быстрая визуализация
   - Отзывчивый интерфейс

4. **Надежность**
   - Изолированность компонентов
   - Простота тестирования
   - Устойчивость к ошибкам

## Ограничения

1. Локальное выполнение (desktop-приложение)
2. Отсутствие клиент-серверного взаимодействия
3. Ограниченные возможности совместной работы 